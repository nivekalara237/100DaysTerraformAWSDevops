#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("source-map-support/register");
const cdk = require("aws-cdk-lib");
const cdk_stack_1 = require("../lib/cdk-stack");
const layer_stack_1 = require("../lib/layer-stack");
const app = new cdk.App();
const env = {
    account: process.env.CDK_DEFAULT_ACCOUNT,
    region: process.env.CDK_DEFAULT_REGION
};
const layerStack = new layer_stack_1.LayerStack(app, 'Day007LambdaLayerStack', {
    env
});
// layerStack.node.findChild('LayerResource')
const cdkstack = new cdk_stack_1.CdkStack(app, 'Day007CdkStack', {
    env,
    stage: process.env.STAGE_NAME + '',
    layerArn: layerStack.layerArn
});
cdkstack.addDependency(layerStack, 'The LayerStack need to be created before CdkStack');
app.synth();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2RrLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiY2RrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLHVDQUFvQztBQUNwQyxtQ0FBa0M7QUFDbEMsZ0RBQTJDO0FBQzNDLG9EQUErQztBQUUvQyxNQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQTtBQUN6QixNQUFNLEdBQUcsR0FBRztJQUNWLE9BQU8sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLG1CQUFtQjtJQUN4QyxNQUFNLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0I7Q0FDdkMsQ0FBQTtBQUNELE1BQU0sVUFBVSxHQUFHLElBQUksd0JBQVUsQ0FBQyxHQUFHLEVBQUUsd0JBQXdCLEVBQUU7SUFDL0QsR0FBRztDQUNKLENBQUMsQ0FBQTtBQUVGLDZDQUE2QztBQUU3QyxNQUFNLFFBQVEsR0FBRyxJQUFJLG9CQUFRLENBQUMsR0FBRyxFQUFFLGdCQUFnQixFQUFFO0lBQ25ELEdBQUc7SUFDSCxLQUFLLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEdBQUcsRUFBRTtJQUNsQyxRQUFRLEVBQUUsVUFBVSxDQUFDLFFBQVE7Q0FDOUIsQ0FBQyxDQUFBO0FBRUYsUUFBUSxDQUFDLGFBQWEsQ0FBQyxVQUFVLEVBQUUsbURBQW1ELENBQUMsQ0FBQTtBQUV2RixHQUFHLENBQUMsS0FBSyxFQUFFLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIjIS91c3IvYmluL2VudiBub2RlXG5pbXBvcnQgJ3NvdXJjZS1tYXAtc3VwcG9ydC9yZWdpc3RlcidcbmltcG9ydCAqIGFzIGNkayBmcm9tICdhd3MtY2RrLWxpYidcbmltcG9ydCB7IENka1N0YWNrIH0gZnJvbSAnLi4vbGliL2Nkay1zdGFjaydcbmltcG9ydCB7IExheWVyU3RhY2sgfSBmcm9tICcuLi9saWIvbGF5ZXItc3RhY2snXG5cbmNvbnN0IGFwcCA9IG5ldyBjZGsuQXBwKClcbmNvbnN0IGVudiA9IHtcbiAgYWNjb3VudDogcHJvY2Vzcy5lbnYuQ0RLX0RFRkFVTFRfQUNDT1VOVCxcbiAgcmVnaW9uOiBwcm9jZXNzLmVudi5DREtfREVGQVVMVF9SRUdJT05cbn1cbmNvbnN0IGxheWVyU3RhY2sgPSBuZXcgTGF5ZXJTdGFjayhhcHAsICdEYXkwMDdMYW1iZGFMYXllclN0YWNrJywge1xuICBlbnZcbn0pXG5cbi8vIGxheWVyU3RhY2subm9kZS5maW5kQ2hpbGQoJ0xheWVyUmVzb3VyY2UnKVxuXG5jb25zdCBjZGtzdGFjayA9IG5ldyBDZGtTdGFjayhhcHAsICdEYXkwMDdDZGtTdGFjaycsIHtcbiAgZW52LFxuICBzdGFnZTogcHJvY2Vzcy5lbnYuU1RBR0VfTkFNRSArICcnLFxuICBsYXllckFybjogbGF5ZXJTdGFjay5sYXllckFyblxufSlcblxuY2Rrc3RhY2suYWRkRGVwZW5kZW5jeShsYXllclN0YWNrLCAnVGhlIExheWVyU3RhY2sgbmVlZCB0byBiZSBjcmVhdGVkIGJlZm9yZSBDZGtTdGFjaycpXG5cbmFwcC5zeW50aCgpIl19